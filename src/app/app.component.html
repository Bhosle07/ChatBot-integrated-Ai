<div class="container mt-4">
    <div class="card shadow-sm" style="height: 100vh;">
      <div class="card-header bg-primary text-white">
        <h4 class="mb-0">Chat bot</h4>
      </div>
      <div class="card-body d-flex flex-column" style="overflow: auto;">
        <!-- Chat History Section -->
        <div
          class="chat-history flex-grow-1 mb-3 p-3 border rounded"
          style="overflow-y: auto; background-color: #f8f9fa;"
        >
          <div
            *ngFor="let item of chatHistory"
            class="d-flex align-items-start mb-3"
            [ngClass]="{ 'flex-row': item.from === 'User', 'flex-row-reverse': item.from === 'Bot' }"
          >
            <!-- User or Bot Icon -->
            <i class="fa"
            [ngClass]="{'fa-user-circle': item.from === 'user', 'fa-graduation-cap': item.from === 'bot'}"></i>
            <!-- Message Bubble -->
            <div
              class="p-3 rounded"
              [ngClass]="{
                'bg-light text-dark': item.from === 'User',
                'bg-primary text-white': item.from === 'Bot'
              }"
              style="max-width: 75%; word-break: break-word;"
            >
              <span [innerHTML]="formatText(item.message)"></span>
              <!-- Loading Skeleton -->
            </div>
        </div>
        <ng-container *ngIf="loading">
            <app-skeleton></app-skeleton>
        </ng-container>
        </div>
  
        
  
        <!-- Chat Input Section -->
        <div class="chat-input d-flex align-items-center">
          <input
            [(ngModel)]="prompt"
            placeholder="Type your message..."
            class="form-control me-2"
            style="height: 3rem; border-radius: 30px;"
          />
          <button
            (click)="sendData()"
            [disabled]="loading || !prompt.trim()"
            class="btn btn-primary px-4 py-2"
            style="border-radius: 30px;"
          >
            Send
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Add Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  
  <!-- Add Font Awesome -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"
    integrity="sha512-nPi26KnGQ+yZMJlSEaP9M3BLBiwXwZk+yMaKwFoapKP2/UWQ2iRO40rV5gD1gjfbiocHVfqY23FkdfpDYoiA=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  ></script>
  
  <!-- Add Bootstrap JS -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
  ></script>
  